###############################################
# cmake configuration file for PandoraPFANew
# @author Jan Engels, DESY
###############################################

SET( PandoraFramework_FOUND FALSE )
MARK_AS_ADVANCED( PandoraFramework_FOUND )

# do not store find results in cache
SET( PandoraFramework_INCLUDE_DIR PandoraFramework_INCLUDE_DIR-NOTFOUND )

FIND_PATH( PandoraFramework_INCLUDE_DIR
    NAMES StatusCodes.h
    PATHS @CMAKE_INSTALL_PREFIX@
    PATH_SUFFIXES Framework/include/Pandora
    NO_DEFAULT_PATH
)
IF( NOT PandoraFramework_INCLUDE_DIR )
    MESSAGE( STATUS "Check for PandoraFramework: ${PandoraFramework_HOME}"
                    " -- failed to find PandoraFramework include directory!!" )
ELSE( NOT PandoraFramework_INCLUDE_DIR )
    MARK_AS_ADVANCED( PandoraFramework_INCLUDE_DIR )
ENDIF( NOT PandoraFramework_INCLUDE_DIR )


# do not store find results in cache
SET( PandoraFramework_LIB PandoraFramework_LIB-NOTFOUND )

FIND_LIBRARY( PandoraFramework_LIB
    NAMES PandoraFramework
    PATHS @CMAKE_INSTALL_PREFIX@
    PATH_SUFFIXES lib
    NO_DEFAULT_PATH
)
IF( NOT PandoraFramework_LIB )
    MESSAGE( STATUS "Check for PandoraFramework: ${PandoraFramework_HOME}"
                    " -- failed to find PandoraFramework library!!" )
ELSE( NOT PandoraFramework_LIB )
    MARK_AS_ADVANCED( PandoraFramework_LIB )
ENDIF( NOT PandoraFramework_LIB )

# do not store find results in cache
SET( PandoraAlgorithms_LIB PandoraAlgorithms_LIB-NOTFOUND )

FIND_LIBRARY( PandoraAlgorithms_LIB
    NAMES PandoraAlgorithms
    PATHS @CMAKE_INSTALL_PREFIX@
    PATH_SUFFIXES lib
    NO_DEFAULT_PATH
)
IF( NOT PandoraAlgorithms_LIB )
    MESSAGE( STATUS "Check for PandoraAlgorithms: ${PandoraAlgorithms_HOME}"
                    " -- failed to find PandoraAlgorithms library!!" )
ELSE( NOT PandoraAlgorithms_LIB )
    MARK_AS_ADVANCED( PandoraAlgorithms_LIB )
ENDIF( NOT PandoraAlgorithms_LIB )


# set variables and display results
IF( PandoraFramework_INCLUDE_DIR AND PandoraFramework_LIB AND PandoraAlgorithms_LIB )
    SET( PandoraFramework_FOUND TRUE )
    SET( PandoraFramework_INCLUDE_DIRS ${PandoraFramework_INCLUDE_DIR} )
    SET( PandoraFramework_LIBRARY_DIRS "@CMAKE_INSTALL_PREFIX@/lib" )
    SET( PandoraFramework_LIBRARIES ${PandoraFramework_LIB} ${PandoraAlgorithms_LIB} )
    #SET( PandoraFramework_DEFINITIONS "-Wno-long-long" )
    MARK_AS_ADVANCED( PandoraFramework_INCLUDE_DIRS PandoraFramework_LIBRARY_DIRS PandoraFramework_LIBRARIES )
    MESSAGE( STATUS "Check for PandoraFramework: ${PandoraFramework_HOME} -- works" )
ELSE( PandoraFramework_INCLUDE_DIR AND PandoraFramework_LIB AND PandoraAlgorithms_LIB )
    IF( PandoraFramework_FIND_REQUIRED )
        MESSAGE( FATAL_ERROR "Check for PandoraFramework: ${PandoraFramework_HOME} -- failed!!" )
    ELSE( PandoraFramework_FIND_REQUIRED )
        MESSAGE( STATUS "Check for PandoraFramework: ${PandoraFramework_HOME}"
                        " -- failed!! will skip this package..." )
    ENDIF( PandoraFramework_FIND_REQUIRED )
ENDIF( PandoraFramework_INCLUDE_DIR AND PandoraFramework_LIB AND PandoraAlgorithms_LIB )
